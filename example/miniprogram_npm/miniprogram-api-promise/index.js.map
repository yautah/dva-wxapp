{"version":3,"sources":["index.js","promise.js","method.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;;ACDA;AACA;AACA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var __TEMP__ = require('./promise');Object.defineProperty(exports, 'promisify', { enumerable: true, configurable: true, get: function() { return __TEMP__.promisify; } });Object.defineProperty(exports, 'promisifyAll', { enumerable: true, configurable: true, get: function() { return __TEMP__.promisifyAll; } });\r\n","var __TEMP__ = require('./method');var asyncMethods = __TEMP__['asyncMethods'];\r\n\r\nfunction hasCallback(args) {\r\n  if (!args || typeof args !== 'object') return false\r\n\r\n  const callback = ['success', 'fail', 'complete']\r\n  for (const m of callback) {\r\n    if (typeof args[m] === 'function') return true\r\n  }\r\n  return false\r\n}\r\n\r\nfunction _promisify(func) {\r\n  if (typeof func !== 'function') return fn\r\n  return (args = {}) =>\r\n    new Promise((resolve, reject) => {\r\n      func(\r\n        Object.assign(args, {\r\n          success: resolve,\r\n          fail: reject\r\n        })\r\n      )\r\n    })\r\n}\r\n\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });exports.promisifyAll = function promisifyAll(wx = {}, wxp = {}) {\r\n  Object.keys(wx).forEach(key => {\r\n    const fn = wx[key]\r\n    if (typeof fn === 'function' && asyncMethods.indexOf(key) >= 0) {\r\n      wxp[key] = args => {\r\n        if (hasCallback(args)) {\r\n          fn(args)\r\n        } else {\r\n          return _promisify(fn)(args)\r\n        }\r\n      }\r\n    } else {\r\n      wxp[key] = fn\r\n    }\r\n  })\r\n};\r\n\r\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var promisify = exports.promisify = _promisify;","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var asyncMethods = exports.asyncMethods = [\r\n  'canvasGetImageData',\r\n  'canvasPutImageData',\r\n  'canvasToTempFilePath',\r\n  'setEnableDebug',\r\n  'startAccelerometer',\r\n  'stopAccelerometer',\r\n  'getBatteryInfo',\r\n  'getClipboardData',\r\n  'setClipboardData',\r\n  'startCompass',\r\n  'stopCompass',\r\n  'addPhoneContact',\r\n  'startGyroscope',\r\n  'stopGyroscope',\r\n  'startBeaconDiscovery',\r\n  'stopBeaconDiscovery',\r\n  'getBeacons',\r\n  'startLocalServiceDiscovery',\r\n  'stopLocalServiceDiscovery',\r\n  'startDeviceMotionListening',\r\n  'stopDeviceMotionListening',\r\n  'getNetworkType',\r\n  'makePhoneCall',\r\n  'scanCode',\r\n  'getSystemInfo',\r\n  'vibrateShort',\r\n  'vibrateLong',\r\n  'getExtConfig',\r\n  'chooseLocation',\r\n  'getLocation',\r\n  'openLocation',\r\n  'chooseMessageFile',\r\n  'loadFontFace',\r\n  'chooseImage',\r\n  'previewImage',\r\n  'getImageInfo',\r\n  'saveImageToPhotosAlbum',\r\n  'compressImage',\r\n  'chooseVideo',\r\n  'saveVideoToPhotosAlbum',\r\n  'downloadFile',\r\n  'request',\r\n  'connectSocket',\r\n  'closeSocket',\r\n  'sendSocketMessage',\r\n  'uploadFile',\r\n  'login',\r\n  'checkSession',\r\n  'chooseAddress',\r\n  'authorize',\r\n  'addCard',\r\n  'openCard',\r\n  'chooseInvoice',\r\n  'chooseInvoiceTitle',\r\n  'getUserInfo',\r\n  'requestPayment',\r\n  'getWeRunData',\r\n  'showModal',\r\n  'showToast',\r\n  'hideToast',\r\n  'showLoading',\r\n  'hideLoading',\r\n  'showActionSheet',\r\n  'pageScrollTo',\r\n  'startPullDownRefresh',\r\n  'stopPullDownRefresh',\r\n  'setBackgroundColor',\r\n  'setBackgroundTextStyle',\r\n  'setTabBarBadge',\r\n  'removeTabBarBadge',\r\n  'showTabBarRedDot',\r\n  'hideTabBarRedDot',\r\n  'showTabBar',\r\n  'hideTabBar',\r\n  'setTabBarStyle',\r\n  'setTabBarItem',\r\n  'setTopBarText',\r\n  'saveFile',\r\n  'openDocument',\r\n  'getSavedFileList',\r\n  'getSavedFileInfo',\r\n  'removeSavedFile',\r\n  'getFileInfo',\r\n  'getStorage',\r\n  'setStorage',\r\n  'removeStorage',\r\n  'clearStorage',\r\n  'getStorageInfo',\r\n  'closeBLEConnection',\r\n  'closeBluetoothAdapter',\r\n  'createBLEConnection',\r\n  'getBLEDeviceCharacteristics',\r\n  'getBLEDeviceServices',\r\n  'getBluetoothAdapterState',\r\n  'getBluetoothDevices',\r\n  'getConnectedBluetoothDevices',\r\n  'notifyBLECharacteristicValueChange',\r\n  'openBluetoothAdapter',\r\n  'readBLECharacteristicValue',\r\n  'startBluetoothDevicesDiscovery',\r\n  'stopBluetoothDevicesDiscovery',\r\n  'writeBLECharacteristicValue',\r\n  'getHCEState',\r\n  'sendHCEMessage',\r\n  'startHCE',\r\n  'stopHCE',\r\n  'getScreenBrightness',\r\n  'setKeepScreenOn',\r\n  'setScreenBrightness',\r\n  'connectWifi',\r\n  'getConnectedWifi',\r\n  'getWifiList',\r\n  'setWifiList',\r\n  'startWifi',\r\n  'stopWifi',\r\n  'getBackgroundAudioPlayerState',\r\n  'playBackgroundAudio',\r\n  'pauseBackgroundAudio',\r\n  'seekBackgroundAudio',\r\n  'stopBackgroundAudio',\r\n  'getAvailableAudioSources',\r\n  'startRecord',\r\n  'stopRecord',\r\n  'setInnerAudioOption',\r\n  'playVoice',\r\n  'pauseVoice',\r\n  'stopVoice',\r\n  'getSetting',\r\n  'openSetting',\r\n  'getShareInfo',\r\n  'hideShareMenu',\r\n  'showShareMenu',\r\n  'updateShareMenu',\r\n  'checkIsSoterEnrolledInDevice',\r\n  'checkIsSupportSoterAuthentication',\r\n  'startSoterAuthentication',\r\n  'navigateBackMiniProgram',\r\n  'navigateToMiniProgram',\r\n  'setNavigationBarTitle',\r\n  'showNavigationBarLoading',\r\n  'hideNavigationBarLoading',\r\n  'setNavigationBarColor',\r\n  'redirectTo',\r\n  'reLaunch',\r\n  'navigateTo',\r\n  'switchTab',\r\n  'navigateBack'\r\n];"]}